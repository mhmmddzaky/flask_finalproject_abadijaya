<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Import Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />

    <!-- Import Bootstrap Icons -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css">

    <!-- Import Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Import CSS -->
    <link rel="stylesheet" href="static/style_update_profileadmin.css">

    <title>Topraja | Update Profil</title>

    <script>
        function toggleMenu() {
            const subMenu = document.getElementById("subMenu");
            if (subMenu) {
                subMenu.classList.toggle("open-menu");
            }
        }

        function togglePassword(inputId, iconId) {
            const inputField = document.getElementById(inputId);
            const icon = document.getElementById(iconId);

            if (inputField.type === "password") {
                inputField.type = "text";
                icon.src = "static/images/view.png";
            } else {
                inputField.type = "password";
                icon.src = "static/images/hidden.png";
            }
        }
        function previewProfilePicture() {
            const input = document.getElementById('upload-photo');
            const profilePicture = document.getElementById('profile-picture');

            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    profilePicture.src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>
</head>

<body>
   <!-- Start Sidebar Section -->
   <div class="sidebar">
    <nav class="nav flex-column">
        <a href="/dashboard" class="nav-link">
            <span class="icon">
                <i class="bi bi-grid"></i> <!-- This is the grid icon -->
            </span>
            <span class="description">Dashboard</span>
        </a>
        <a href="/tabel_produk" class="nav-link">
            <span class="icon">
                <i class="bi bi-bag"></i> <!-- This is the grid icon -->
            </span>
            <span class="description">Produk</span>
        </a>
        <a href="/tabel_user" class="nav-link">
            <span class="icon">
                <i class="bi bi-person"></i>
            </span>
            <span class="description">Users</span>
        </a>
        <a href="/tabel_feedback" class="nav-link">
            <span class="icon">
                <i class="bi bi-envelope"></i>
            </span>
            <span class="description">Feedback</span>
        </a>
        <hr>
        <a href="/add_produk" class="nav-link">
            <span class="icon">
                <i class="bi bi-plus-circle"></i>
            </span>
            <span class="description">Tambah Produk</span>
        </a>

        <a href="/add_admin" class="nav-link">
            <span class="icon">
                <i class="bi bi-person-plus"></i>
            </span>
            <span class="description">Tambah User</span>
        </a>
        <hr>
        <!-- Sidebar Dropdown -->
        <a href="#" class="nav-link" data-bs-toggle="collapse" data-bs-target="#submenu" aria-expanded="false"
            aria-controls="submenu">
            <span class="icon">
                <i class="bi bi-person-circle"></i>
            </span>
            <span class="description">Akun <i class="bi bi-caret-down"></i></span>
        </a>
        <!-- Sidebar Submenu -->
        <div class="sub-menu collapse" id="submenu">
            <a href="/profile_admin" class="nav-link">
                <span class="icon"><i class="bi bi-person-bounding-box"></i></span>
                <span class="description">Profil</span>
            </a>
            <a href="{{ url_for('logout') }}" class="nav-link">
                <span class="icon"><i class="bi bi-box-arrow-right"></i></span>
                <span class="description">Logout</span>
            </a>
        </div>
    </nav>
</div>


     <!-- Update Section-->
     <div class="main-wrapper">
        <div class="container edit-profile-container">
            <div class="profile-image">
                <label for="upload-photo">
                    <img src="{{ profile_picture }}" alt="Profile Picture" id="profile-picture">
                </label>
                <input type="file" id="upload-photo" accept="image/*" onchange="previewProfilePicture()"
                    style="display: none;">
            </div>
            <form method="POST" action="{{ url_for('update_profile') }}" enctype="multipart/form-data">
                <div class="mb-3">
                    <label for="profile_picture" class="form-label">Foto Profile:</label>
                    <input type="file" id="profile_picture" name="profile_picture" class="form-control"
                        accept="image/*">
                </div>
                <div class="mb-3">
                    <!-- <div class="col-md-6"> -->
                    <label for="firstName" class="form-label">Username :</label>
                    <input type="text" id="username" name="new_username" class="form-control" placeholder="Username">
                    <!-- </div> -->
                    <!-- <div class="col-md-6">
                        <label for="lastName" class="form-label">Last Name :</label>
                        <input type="text" id="lastName" class="form-control" placeholder="Last Name">
                    </div> -->
                </div>
                <div class="mb-3">
                    <label for="firstName" class="form-label">Nama Lengkap :</label>
                    <input type="text" id="fullname" name="new_fullname" class="form-control"
                        placeholder="Nama Lengkap">
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email Account :</label>
                    <input type="email" id="email" name="new_email" class="form-control" placeholder="Email">
                </div>
                <!-- <div class="mb-3">
                    <label for="gender" class="form-label">Gender :</label>
                    <select id="gender" class="form-select">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div> -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="currentPassword" class="form-label">Current Password :</label>
                        <div class="input-group">
                            <input type="password" id="currentPassword" name="current_password" class="form-control"
                                placeholder="Current Password">
                            <span class="input-group-text">
                                <img src="static/images/hidden.png" alt="Toggle Password"
                                    onclick="togglePassword('currentPassword', 'currentPasswordIcon')"
                                    id="currentPasswordIcon" class="password-icon">
                            </span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="newPassword" class="form-label">New Password :</label>
                        <div class="input-group">
                            <input type="password" id="newPassword" name="new_password" class="form-control"
                                placeholder="New Password">
                            <span class="input-group-text">
                                <img src="static/images/hidden.png" alt="Toggle Password"
                                    onclick="togglePassword('newPassword', 'newPasswordIcon')" id="newPasswordIcon"
                                    class="password-icon">
                            </span>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Confirm New Password :</label>
                    <div class="input-group">
                        <input type="password" id="confirmPassword" name="confirm_password" class="form-control"
                            placeholder="Confirm Password">
                        <span class="input-group-text">
                            <img src="static/images/hidden.png" alt="Toggle Password"
                                onclick="togglePassword('confirmPassword', 'confirmPasswordIcon')"
                                id="confirmPasswordIcon" class="password-icon">
                        </span>
                    </div>
                </div>
                <div class="button-container">
                    <button type="submit" class="btn save-profile-btn ">Simpan</button>
                </div>
            </form>
        </div>
    </div>
    <!--End Update Section-->

</body>

</html>